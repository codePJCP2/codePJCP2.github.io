<template><div><h1 id="绪论2-应用视角的操作系统" tabindex="-1"><a class="header-anchor" href="#绪论2-应用视角的操作系统"><span>绪论2 应用视角的操作系统</span></a></h1>
<h2 id="程序的状态机模型" tabindex="-1"><a class="header-anchor" href="#程序的状态机模型"><span>程序的状态机模型</span></a></h2>
<h3 id="everything-二进制程序-is-状态机" tabindex="-1"><a class="header-anchor" href="#everything-二进制程序-is-状态机"><span>Everything(二进制程序) is 状态机!</span></a></h3>
<p><img src="@source/learning-path/os/NJU-OS/note/img/zIvgkWqYtOqRBGg-/1726396266475-7473a009-10c6-4d11-9278-d01a1d964356-259747.jpeg" alt="画板"></p>
<p>除非产生了非法的调用(在不把状态机交给操作系统接管的前提下，也就是图中的 <code v-pre>syscall</code> 这段分支)，否则你的程序<strong>甚至不能自行退出</strong>！只能通过&quot;计算&quot;(执行指令)来使自身的状态改变至另一个状态 <a href="#u1ae725d3"><sup>[1]</sup></a>。</p>
<blockquote>
<p>[1] 状态：<font style="color:rgb(31, 35, 40);">gdb 内可见的内存和寄存器的</font><strong><font style="color:rgb(31, 35, 40);">某种取值情况</font></strong><font style="color:rgb(31, 35, 40);">。</font></p>
</blockquote>
<p>所以，不论是计算机上的 minimal 程序，还是大型的 GUI 程序，都是由**指令和系统调用 **(<code v-pre>syscall</code>) 组成的！</p>
<h3 id="everything-c-程序-is-状态机" tabindex="-1"><a class="header-anchor" href="#everything-c-程序-is-状态机"><span>Everything(C 程序) is 状态机！</span></a></h3>
<p>照着 <a href="#mAe0u">1.1 节</a>中的 Every binary program is state machine! 这种观点，我们可以对 C 程序以类似的观点进行初步理解：</p>
<ul>
<li>状态 = <strong>变量值 + 堆栈</strong></li>
<li>初始状态 = <strong>main 的第一条语句</strong></li>
<li>状态转移 = 后续的每一条语句中的每一小步</li>
</ul>
<p><img src="@source/learning-path/os/NJU-OS/note/img/zIvgkWqYtOqRBGg-/1726401531638-1a6707b3-8c09-4153-8ce1-13a14b1229a9-806588.jpeg" alt="画板"></p>
<p>每一步执行后，PC 都会改变， PC 当前所处的位置<strong>似乎</strong>决定了状态机的状态。</p>
<p>但真的是这样吗？或者，PC 有可能不止一个吗？</p>
<p>我们来看看汉诺塔问题。在讲汉诺塔的时候，一般都把它当成递归的经典例题来讲解。初次接触递归确实会感到有点困难，因为你很难搞清楚这个问题的<strong>状态是什么，以及状态是如何转移的。</strong></p>
<p>或许在上 C 语言的时候老师有讲过递归程序如何进行的问题，一般的解释是”把待调用的<strong>程序段</strong>放到堆栈中“，但是，如果只放程序段到堆栈中，在调用异常中断或者调用结束时，如何返回到原进程中呢？因此，程序的状态里面<strong>一定包含 PC</strong>，用来记录调用完成后该跳转到的位置。同理，如果借着上面的解释来说，需要把它修改成”把待调用的程序段的<strong>状态</strong>放到堆栈中“。这也就是说，PC 并不一定”只有一个“，在类似于这样的递归过程中，一般会有<strong>多个 PC 的快照</strong>存于堆栈中。</p>
<p>这种时候，你可以直观地感受到上面对于 C 程序的初步理解的局限性。现在我们可以给出一种更进一步<s>真正意义上</s>的”理解“：</p>
<blockquote>
<font style="color:rgb(101, 109, 118);">“状态机” 是拥有</font>**<font style="color:rgb(68, 136, 204);">严格数学定义</font>**<font style="color:rgb(101, 109, 118);">的对象。这意味着你可以把定义写出来，并且用</font>**<font style="color:rgb(68, 136, 204);">数学严格</font>**<font style="color:rgb(101, 109, 118);">的方法理解它 —— 形式化方法</font></blockquote>
<ul>
<li>
<font style="color:rgb(20, 20, 20);">状态</font><ul>
<li>
<font style="color:rgb(31, 35, 40);">frames[StackFrame（栈帧）, StackFrame, ...] + 全局变量</font></li>
</ul>
</li>
<li>
<font style="color:rgb(20, 20, 20);">初始状态</font><ul>
<li>
<font style="color:rgb(31, 35, 40);">仅有一个 StackFrame(main, argc, argv,</font><font style="color:rgb(31, 35, 40);"> </font>**<font style="color:rgb(68, 136, 204);">PC=0</font>**<font style="color:rgb(31, 35, 40);">)</font></li>
<li>
<font style="color:rgb(31, 35, 40);">全局变量全部为初始值</font></li>
</ul>
</li>
<li>
<font style="color:rgb(20, 20, 20);">状态迁移</font><ul>
<li>
<font style="color:rgb(31, 35, 40);">执行 </font>**<font style="color:rgb(31, 35, 40);">frames[-1].PC</font>**<font style="color:rgb(31, 35, 40);"> 处的简单语句</font></li>
</ul>
</li>
</ul>
<font style="color:rgb(31, 35, 40);">你可以尝试着根据这种理解将递归版的汉诺塔改为非递归的汉诺塔。</font><div class="language-c line-numbers-mode line-numbers-mode" data-highlighter="prismjs" data-ext="c" data-title="c"><pre v-pre  class="shiki nord vp-code" style="background-color:#2e3440ff;color:#d8dee9ff language-c"><code><span class="line"><span class="line"><span style="color:#81A1C1">int</span><span style="color:#88C0D0"> hanoi</span><span style="color:#ECEFF4">(</span><span style="color:#81A1C1">int</span><span style="color:#D8DEE9"> n</span><span style="color:#ECEFF4">,</span><span style="color:#81A1C1"> char</span><span style="color:#D8DEE9"> from</span><span style="color:#ECEFF4">,</span><span style="color:#81A1C1"> char</span><span style="color:#D8DEE9"> to</span><span style="color:#ECEFF4">,</span><span style="color:#81A1C1"> char</span><span style="color:#D8DEE9"> via</span><span style="color:#ECEFF4">)</span></span></span>
<span class="line"><span class="line"><span style="color:#ECEFF4">{</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">    if</span><span style="color:#ECEFF4"> (</span><span style="color:#D8DEE9FF">n </span><span style="color:#81A1C1">==</span><span style="color:#B48EAD"> 1</span><span style="color:#ECEFF4">)</span></span></span>
<span class="line"><span class="line"><span style="color:#ECEFF4">    {</span></span></span>
<span class="line"><span class="line"><span style="color:#88C0D0">        printf</span><span style="color:#ECEFF4">(</span><span style="color:#ECEFF4">"</span><span style="color:#A3BE8C">%c -> %c</span><span style="color:#EBCB8B">\n</span><span style="color:#ECEFF4">"</span><span style="color:#ECEFF4">,</span><span style="color:#D8DEE9FF"> from</span><span style="color:#ECEFF4">,</span><span style="color:#D8DEE9FF"> to</span><span style="color:#ECEFF4">)</span><span style="color:#81A1C1">;</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">        return</span><span style="color:#B48EAD"> 1</span><span style="color:#81A1C1">;</span></span></span>
<span class="line"><span class="line"><span style="color:#ECEFF4">    }</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">    else</span></span></span>
<span class="line"><span class="line"><span style="color:#ECEFF4">    {</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">        int</span><span style="color:#D8DEE9FF"> c1 </span><span style="color:#81A1C1">=</span><span style="color:#88C0D0"> hanoi</span><span style="color:#ECEFF4">(</span><span style="color:#D8DEE9FF">n </span><span style="color:#81A1C1">-</span><span style="color:#B48EAD"> 1</span><span style="color:#ECEFF4">,</span><span style="color:#D8DEE9FF"> from</span><span style="color:#ECEFF4">,</span><span style="color:#D8DEE9FF"> via</span><span style="color:#ECEFF4">,</span><span style="color:#D8DEE9FF"> to</span><span style="color:#ECEFF4">)</span><span style="color:#81A1C1">;</span></span></span>
<span class="line"><span class="line"><span style="color:#88C0D0">        hanoi</span><span style="color:#ECEFF4">(</span><span style="color:#B48EAD">1</span><span style="color:#ECEFF4">,</span><span style="color:#D8DEE9FF"> from</span><span style="color:#ECEFF4">,</span><span style="color:#D8DEE9FF"> to</span><span style="color:#ECEFF4">,</span><span style="color:#D8DEE9FF"> via</span><span style="color:#ECEFF4">)</span><span style="color:#81A1C1">;</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">        int</span><span style="color:#D8DEE9FF"> c2 </span><span style="color:#81A1C1">=</span><span style="color:#88C0D0"> hanoi</span><span style="color:#ECEFF4">(</span><span style="color:#D8DEE9FF">n </span><span style="color:#81A1C1">-</span><span style="color:#B48EAD"> 1</span><span style="color:#ECEFF4">,</span><span style="color:#D8DEE9FF"> via</span><span style="color:#ECEFF4">,</span><span style="color:#D8DEE9FF"> to</span><span style="color:#ECEFF4">,</span><span style="color:#D8DEE9FF"> from</span><span style="color:#ECEFF4">)</span><span style="color:#81A1C1">;</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">        return</span><span style="color:#D8DEE9FF"> c1 </span><span style="color:#81A1C1">+</span><span style="color:#D8DEE9FF"> c2 </span><span style="color:#81A1C1">+</span><span style="color:#B48EAD"> 1</span><span style="color:#81A1C1">;</span></span></span>
<span class="line"><span class="line"><span style="color:#ECEFF4">    }</span></span></span>
<span class="line"><span class="line"><span style="color:#ECEFF4">}</span></span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><font style="color:rgb(31, 35, 40);">如果有不理解的地方，可以去看看</font><a href="https://jyywiki.cn/os-demos/introduction/hanoi/" target="_blank" rel="noopener noreferrer">老师提供的汉诺塔代码</a>（包含递归程序与非递归程序，递归程序已经在上面的代码块中了）。<div class="language-c line-numbers-mode line-numbers-mode" data-highlighter="prismjs" data-ext="c" data-title="c"><pre v-pre  class="shiki nord vp-code" style="background-color:#2e3440ff;color:#d8dee9ff language-c"><code><span class="line"><span class="line"><span style="color:#5E81AC;font-weight:bold">#</span><span style="color:#81A1C1">include</span><span style="color:#ECEFF4"> &#x3C;</span><span style="color:#8FBCBB">stdio.h</span><span style="color:#ECEFF4">></span></span></span>
<span class="line"><span class="line"><span style="color:#5E81AC;font-weight:bold">#</span><span style="color:#81A1C1">include</span><span style="color:#ECEFF4"> &#x3C;</span><span style="color:#8FBCBB">assert.h</span><span style="color:#ECEFF4">></span></span></span>
<span class="line"><span class="line"></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">struct</span><span style="color:#D8DEE9FF"> Frame</span></span></span>
<span class="line"><span class="line"><span style="color:#ECEFF4">{</span></span></span>
<span class="line"><span class="line"><span style="color:#616E88">    // Each frame has a program counter to keep track its next</span></span></span>
<span class="line"><span class="line"><span style="color:#616E88">    // to-be-executed statement.</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">    int</span><span style="color:#D8DEE9FF"> pc</span><span style="color:#81A1C1">;</span></span></span>
<span class="line"><span class="line"></span></span>
<span class="line"><span class="line"><span style="color:#616E88">    // The internal state of the frame. This state includes</span></span></span>
<span class="line"><span class="line"><span style="color:#616E88">    // both arguments and local variables (if any).</span></span></span>
<span class="line"><span class="line"><span style="color:#616E88">    //</span></span></span>
<span class="line"><span class="line"><span style="color:#616E88">    // Arguments:</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">    int</span><span style="color:#D8DEE9FF"> n</span><span style="color:#81A1C1">;</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">    char</span><span style="color:#D8DEE9FF"> from</span><span style="color:#ECEFF4">,</span><span style="color:#D8DEE9FF"> to</span><span style="color:#ECEFF4">,</span><span style="color:#D8DEE9FF"> via</span><span style="color:#81A1C1">;</span></span></span>
<span class="line"><span class="line"></span></span>
<span class="line"><span class="line"><span style="color:#616E88">    // Local variables:</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">    int</span><span style="color:#D8DEE9FF"> c1</span><span style="color:#ECEFF4">,</span><span style="color:#D8DEE9FF"> c2</span><span style="color:#81A1C1">;</span></span></span>
<span class="line"><span class="line"><span style="color:#ECEFF4">}</span><span style="color:#81A1C1">;</span></span></span>
<span class="line"><span class="line"></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">typedef</span><span style="color:#81A1C1"> struct</span><span style="color:#D8DEE9FF"> Frame Frame</span><span style="color:#81A1C1">;</span></span></span>
<span class="line"><span class="line"></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">int</span><span style="color:#88C0D0"> hanoi</span><span style="color:#ECEFF4">(</span><span style="color:#81A1C1">int</span><span style="color:#D8DEE9"> n</span><span style="color:#ECEFF4">,</span><span style="color:#81A1C1"> char</span><span style="color:#D8DEE9"> from</span><span style="color:#ECEFF4">,</span><span style="color:#81A1C1"> char</span><span style="color:#D8DEE9"> to</span><span style="color:#ECEFF4">,</span><span style="color:#81A1C1"> char</span><span style="color:#D8DEE9"> via</span><span style="color:#ECEFF4">)</span></span></span>
<span class="line"><span class="line"><span style="color:#ECEFF4">{</span></span></span>
<span class="line"><span class="line"><span style="color:#D8DEE9FF">    Frame stk</span><span style="color:#ECEFF4">[</span><span style="color:#B48EAD">64</span><span style="color:#ECEFF4">]</span><span style="color:#81A1C1">;</span></span></span>
<span class="line"><span class="line"><span style="color:#D8DEE9FF">    Frame </span><span style="color:#81A1C1">*</span><span style="color:#D8DEE9FF">top </span><span style="color:#81A1C1">=</span><span style="color:#D8DEE9FF"> stk </span><span style="color:#81A1C1">-</span><span style="color:#B48EAD"> 1</span><span style="color:#81A1C1">;</span></span></span>
<span class="line"><span class="line"></span></span>
<span class="line"><span class="line"><span style="color:#616E88">// Function call: push a new frame (PC=0) onto the stack</span></span></span>
<span class="line"><span class="line"><span style="color:#5E81AC;font-weight:bold">#</span><span style="color:#81A1C1">define</span><span style="color:#88C0D0"> call</span><span style="color:#ECEFF4">(...)</span><span style="color:#ECEFF4"> ({</span><span style="color:#81A1C1"> *</span><span style="color:#ECEFF4">(</span><span style="color:#81A1C1">++</span><span style="color:#5E81AC">top</span><span style="color:#ECEFF4">)</span><span style="color:#81A1C1"> =</span><span style="color:#ECEFF4"> (</span><span style="color:#5E81AC">Frame</span><span style="color:#ECEFF4">){</span><span style="color:#5E81AC">.pc </span><span style="color:#81A1C1">=</span><span style="color:#B48EAD"> 0</span><span style="color:#ECEFF4">,</span><span style="color:#5E81AC"> __VA_ARGS__</span><span style="color:#ECEFF4">}</span><span style="color:#81A1C1">;</span><span style="color:#ECEFF4"> })</span></span></span>
<span class="line"><span class="line"></span></span>
<span class="line"><span class="line"><span style="color:#616E88">// Function return: pop the top-most frame</span></span></span>
<span class="line"><span class="line"><span style="color:#5E81AC;font-weight:bold">#</span><span style="color:#81A1C1">define</span><span style="color:#88C0D0"> ret</span><span style="color:#ECEFF4">(</span><span style="color:#D8DEE9">val</span><span style="color:#ECEFF4">)</span><span style="color:#ECEFF4"> ({</span><span style="color:#5E81AC"> top</span><span style="color:#81A1C1">--;</span><span style="color:#5E81AC"> retval </span><span style="color:#81A1C1">=</span><span style="color:#ECEFF4"> (</span><span style="color:#5E81AC">val</span><span style="color:#ECEFF4">)</span><span style="color:#81A1C1">;</span><span style="color:#ECEFF4"> })</span></span></span>
<span class="line"><span class="line"></span></span>
<span class="line"><span class="line"><span style="color:#616E88">    // The last function-return's value. It is not obvious</span></span></span>
<span class="line"><span class="line"><span style="color:#616E88">    // that we only need one retval.</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">    int</span><span style="color:#D8DEE9FF"> retval </span><span style="color:#81A1C1">=</span><span style="color:#B48EAD"> 0</span><span style="color:#81A1C1">;</span></span></span>
<span class="line"><span class="line"></span></span>
<span class="line"><span class="line"><span style="color:#616E88">    // The initial call to the recursive function</span></span></span>
<span class="line"><span class="line"><span style="color:#88C0D0">    call</span><span style="color:#ECEFF4">(</span><span style="color:#D8DEE9FF">n</span><span style="color:#ECEFF4">,</span><span style="color:#D8DEE9FF"> from</span><span style="color:#ECEFF4">,</span><span style="color:#D8DEE9FF"> to</span><span style="color:#ECEFF4">,</span><span style="color:#D8DEE9FF"> via</span><span style="color:#ECEFF4">)</span><span style="color:#81A1C1">;</span></span></span>
<span class="line"><span class="line"></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">    while</span><span style="color:#ECEFF4"> (</span><span style="color:#B48EAD">1</span><span style="color:#ECEFF4">)</span></span></span>
<span class="line"><span class="line"><span style="color:#ECEFF4">    {</span></span></span>
<span class="line"><span class="line"><span style="color:#616E88">        // Fetch the top-most frame.</span></span></span>
<span class="line"><span class="line"><span style="color:#D8DEE9FF">        Frame </span><span style="color:#81A1C1">*</span><span style="color:#D8DEE9FF">f </span><span style="color:#81A1C1">=</span><span style="color:#D8DEE9FF"> top</span><span style="color:#81A1C1">;</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">        if</span><span style="color:#ECEFF4"> (</span><span style="color:#D8DEE9FF">top </span><span style="color:#81A1C1">&#x3C;</span><span style="color:#D8DEE9FF"> stk</span><span style="color:#ECEFF4">)</span></span></span>
<span class="line"><span class="line"><span style="color:#ECEFF4">        {</span></span></span>
<span class="line"><span class="line"><span style="color:#616E88">            // No top-most frame any more; we're done.</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">            break;</span></span></span>
<span class="line"><span class="line"><span style="color:#ECEFF4">        }</span></span></span>
<span class="line"><span class="line"></span></span>
<span class="line"><span class="line"><span style="color:#616E88">        // Jumps may change this default next pc.</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">        int</span><span style="color:#D8DEE9FF"> next_pc </span><span style="color:#81A1C1">=</span><span style="color:#D8DEE9"> f</span><span style="color:#81A1C1">-></span><span style="color:#D8DEE9">pc</span><span style="color:#81A1C1"> +</span><span style="color:#B48EAD"> 1</span><span style="color:#81A1C1">;</span></span></span>
<span class="line"><span class="line"></span></span>
<span class="line"><span class="line"><span style="color:#616E88">        // Single step execution.</span></span></span>
<span class="line"><span class="line"></span></span>
<span class="line"><span class="line"><span style="color:#616E88">        // Extract the parameters from the current frame. (It's</span></span></span>
<span class="line"><span class="line"><span style="color:#616E88">        // generally a bad idea to reuse variable names in</span></span></span>
<span class="line"><span class="line"><span style="color:#616E88">        // practice; but we did it here for readability.)</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">        int</span><span style="color:#D8DEE9FF"> n </span><span style="color:#81A1C1">=</span><span style="color:#D8DEE9"> f</span><span style="color:#81A1C1">-></span><span style="color:#D8DEE9">n</span><span style="color:#ECEFF4">,</span><span style="color:#D8DEE9FF"> from </span><span style="color:#81A1C1">=</span><span style="color:#D8DEE9"> f</span><span style="color:#81A1C1">-></span><span style="color:#D8DEE9">from</span><span style="color:#ECEFF4">,</span><span style="color:#D8DEE9FF"> to </span><span style="color:#81A1C1">=</span><span style="color:#D8DEE9"> f</span><span style="color:#81A1C1">-></span><span style="color:#D8DEE9">to</span><span style="color:#ECEFF4">,</span><span style="color:#D8DEE9FF"> via </span><span style="color:#81A1C1">=</span><span style="color:#D8DEE9"> f</span><span style="color:#81A1C1">-></span><span style="color:#D8DEE9">via</span><span style="color:#81A1C1">;</span></span></span>
<span class="line"><span class="line"></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">        switch</span><span style="color:#ECEFF4"> (</span><span style="color:#D8DEE9">f</span><span style="color:#81A1C1">-></span><span style="color:#D8DEE9">pc</span><span style="color:#ECEFF4">)</span></span></span>
<span class="line"><span class="line"><span style="color:#ECEFF4">        {</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">        case</span><span style="color:#B48EAD"> 0</span><span style="color:#ECEFF4">:</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">            if</span><span style="color:#ECEFF4"> (</span><span style="color:#D8DEE9FF">n </span><span style="color:#81A1C1">==</span><span style="color:#B48EAD"> 1</span><span style="color:#ECEFF4">)</span></span></span>
<span class="line"><span class="line"><span style="color:#ECEFF4">            {</span></span></span>
<span class="line"><span class="line"><span style="color:#88C0D0">                printf</span><span style="color:#ECEFF4">(</span><span style="color:#ECEFF4">"</span><span style="color:#A3BE8C">%c -> %c</span><span style="color:#EBCB8B">\n</span><span style="color:#ECEFF4">"</span><span style="color:#ECEFF4">,</span><span style="color:#D8DEE9FF"> from</span><span style="color:#ECEFF4">,</span><span style="color:#D8DEE9FF"> to</span><span style="color:#ECEFF4">)</span><span style="color:#81A1C1">;</span></span></span>
<span class="line"><span class="line"><span style="color:#88C0D0">                ret</span><span style="color:#ECEFF4">(</span><span style="color:#B48EAD">1</span><span style="color:#ECEFF4">)</span><span style="color:#81A1C1">;</span></span></span>
<span class="line"><span class="line"><span style="color:#ECEFF4">            }</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">            break;</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">        case</span><span style="color:#B48EAD"> 1</span><span style="color:#ECEFF4">:</span></span></span>
<span class="line"><span class="line"><span style="color:#88C0D0">            call</span><span style="color:#ECEFF4">(</span><span style="color:#D8DEE9FF">n </span><span style="color:#81A1C1">-</span><span style="color:#B48EAD"> 1</span><span style="color:#ECEFF4">,</span><span style="color:#D8DEE9FF"> from</span><span style="color:#ECEFF4">,</span><span style="color:#D8DEE9FF"> via</span><span style="color:#ECEFF4">,</span><span style="color:#D8DEE9FF"> to</span><span style="color:#ECEFF4">)</span><span style="color:#81A1C1">;</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">            break;</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">        case</span><span style="color:#B48EAD"> 2</span><span style="color:#ECEFF4">:</span></span></span>
<span class="line"><span class="line"><span style="color:#D8DEE9">            f</span><span style="color:#81A1C1">-></span><span style="color:#D8DEE9">c1</span><span style="color:#81A1C1"> =</span><span style="color:#D8DEE9FF"> retval</span><span style="color:#81A1C1">;</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">            break;</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">        case</span><span style="color:#B48EAD"> 3</span><span style="color:#ECEFF4">:</span></span></span>
<span class="line"><span class="line"><span style="color:#88C0D0">            call</span><span style="color:#ECEFF4">(</span><span style="color:#B48EAD">1</span><span style="color:#ECEFF4">,</span><span style="color:#D8DEE9FF"> from</span><span style="color:#ECEFF4">,</span><span style="color:#D8DEE9FF"> to</span><span style="color:#ECEFF4">,</span><span style="color:#D8DEE9FF"> via</span><span style="color:#ECEFF4">)</span><span style="color:#81A1C1">;</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">            break;</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">        case</span><span style="color:#B48EAD"> 4</span><span style="color:#ECEFF4">:</span></span></span>
<span class="line"><span class="line"><span style="color:#88C0D0">            call</span><span style="color:#ECEFF4">(</span><span style="color:#D8DEE9FF">n </span><span style="color:#81A1C1">-</span><span style="color:#B48EAD"> 1</span><span style="color:#ECEFF4">,</span><span style="color:#D8DEE9FF"> via</span><span style="color:#ECEFF4">,</span><span style="color:#D8DEE9FF"> to</span><span style="color:#ECEFF4">,</span><span style="color:#D8DEE9FF"> from</span><span style="color:#ECEFF4">)</span><span style="color:#81A1C1">;</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">            break;</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">        case</span><span style="color:#B48EAD"> 5</span><span style="color:#ECEFF4">:</span></span></span>
<span class="line"><span class="line"><span style="color:#D8DEE9">            f</span><span style="color:#81A1C1">-></span><span style="color:#D8DEE9">c2</span><span style="color:#81A1C1"> =</span><span style="color:#D8DEE9FF"> retval</span><span style="color:#81A1C1">;</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">            break;</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">        case</span><span style="color:#B48EAD"> 6</span><span style="color:#ECEFF4">:</span></span></span>
<span class="line"><span class="line"><span style="color:#88C0D0">            ret</span><span style="color:#ECEFF4">(</span><span style="color:#D8DEE9FF">f</span><span style="color:#81A1C1">-></span><span style="color:#D8DEE9FF">c1 </span><span style="color:#81A1C1">+</span><span style="color:#D8DEE9FF"> f</span><span style="color:#81A1C1">-></span><span style="color:#D8DEE9FF">c2 </span><span style="color:#81A1C1">+</span><span style="color:#B48EAD"> 1</span><span style="color:#ECEFF4">)</span><span style="color:#81A1C1">;</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">            break;</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">        default</span><span style="color:#ECEFF4">:</span></span></span>
<span class="line"><span class="line"><span style="color:#88C0D0">            assert</span><span style="color:#ECEFF4">(</span><span style="color:#B48EAD">0</span><span style="color:#ECEFF4">)</span><span style="color:#81A1C1">;</span></span></span>
<span class="line"><span class="line"><span style="color:#ECEFF4">        }</span></span></span>
<span class="line"><span class="line"></span></span>
<span class="line"><span class="line"><span style="color:#D8DEE9">        f</span><span style="color:#81A1C1">-></span><span style="color:#D8DEE9">pc</span><span style="color:#81A1C1"> =</span><span style="color:#D8DEE9FF"> next_pc</span><span style="color:#81A1C1">;</span></span></span>
<span class="line"><span class="line"><span style="color:#ECEFF4">    }</span></span></span>
<span class="line"><span class="line"></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">    return</span><span style="color:#D8DEE9FF"> retval</span><span style="color:#81A1C1">;</span></span></span>
<span class="line"><span class="line"><span style="color:#ECEFF4">}</span></span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="扩展——尝试将非递归汉诺塔扩展到-font-style-color-rgb-15-23-42-f-font-和-font-style-color-rgb-15-23-42-g-font-两个函数互相调用的情况" tabindex="-1"><a class="header-anchor" href="#扩展——尝试将非递归汉诺塔扩展到-font-style-color-rgb-15-23-42-f-font-和-font-style-color-rgb-15-23-42-g-font-两个函数互相调用的情况"><span>扩展——<font style="color:rgb(15, 23, 42);">尝试将非递归汉诺塔扩展到 </font><code v-pre>&lt;font style=&quot;color:rgb(15, 23, 42);&quot;&gt;f&lt;/font&gt;</code><font style="color:rgb(15, 23, 42);"> 和 </font><code v-pre>&lt;font style=&quot;color:rgb(15, 23, 42);&quot;&gt;g&lt;/font&gt;</code><font style="color:rgb(15, 23, 42);"> 两个函数互相调用的情况</font></span></a></h3>
<ol>
<li>先写出递归的程序</li>
<li>再进行修改，可以仿照着给出的非递归汉诺塔程序进行编写</li>
</ol>
<p>本节中我们采用一个有实际应用的问题来进行抽象与改写——<strong>左右子树遍历：</strong></p>
<p>在二叉树的遍历中，<code v-pre>f</code> 可以处理左子树，<code v-pre>g</code> 可以处理右子树：</p>
<ul>
<li><code v-pre>f</code>: 处理左子树，递归调用 <code v-pre>g</code> 处理右子树。</li>
<li><code v-pre>g</code>: 处理右子树，递归调用 <code v-pre>f</code> 处理左子树。</li>
</ul>
<p>它的递归版本代码如下，统计二叉树中总的结点个数：</p>
<div class="language-c line-numbers-mode line-numbers-mode" data-highlighter="prismjs" data-ext="c" data-title="c"><pre v-pre  class="shiki nord vp-code" style="background-color:#2e3440ff;color:#d8dee9ff language-c"><code><span class="line"><span class="line"><span style="color:#5E81AC;font-weight:bold">#</span><span style="color:#81A1C1">include</span><span style="color:#ECEFF4"> &#x3C;</span><span style="color:#8FBCBB">stdio.h</span><span style="color:#ECEFF4">></span></span></span>
<span class="line"><span class="line"><span style="color:#5E81AC;font-weight:bold">#</span><span style="color:#81A1C1">include</span><span style="color:#ECEFF4"> &#x3C;</span><span style="color:#8FBCBB">stdlib.h</span><span style="color:#ECEFF4">></span></span></span>
<span class="line"><span class="line"></span></span>
<span class="line"><span class="line"><span style="color:#616E88">// 定义二叉树节点结构体</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">struct</span><span style="color:#D8DEE9FF"> TreeNode </span><span style="color:#ECEFF4">{</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">    int</span><span style="color:#D8DEE9FF"> val</span><span style="color:#81A1C1">;</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">    struct</span><span style="color:#D8DEE9FF"> TreeNode </span><span style="color:#81A1C1">*</span><span style="color:#D8DEE9FF">left</span><span style="color:#81A1C1">;</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">    struct</span><span style="color:#D8DEE9FF"> TreeNode </span><span style="color:#81A1C1">*</span><span style="color:#D8DEE9FF">right</span><span style="color:#81A1C1">;</span></span></span>
<span class="line"><span class="line"><span style="color:#ECEFF4">}</span><span style="color:#81A1C1">;</span></span></span>
<span class="line"><span class="line"></span></span>
<span class="line"><span class="line"><span style="color:#616E88">// 定义函数原型</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">int</span><span style="color:#88C0D0"> f</span><span style="color:#ECEFF4">(</span><span style="color:#81A1C1">struct</span><span style="color:#D8DEE9FF"> TreeNode</span><span style="color:#81A1C1">*</span><span style="color:#D8DEE9"> node</span><span style="color:#ECEFF4">)</span><span style="color:#81A1C1">;</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">int</span><span style="color:#88C0D0"> g</span><span style="color:#ECEFF4">(</span><span style="color:#81A1C1">struct</span><span style="color:#D8DEE9FF"> TreeNode</span><span style="color:#81A1C1">*</span><span style="color:#D8DEE9"> node</span><span style="color:#ECEFF4">)</span><span style="color:#81A1C1">;</span></span></span>
<span class="line"><span class="line"></span></span>
<span class="line"><span class="line"><span style="color:#616E88">// 递归遍历左子树的函数 f</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">int</span><span style="color:#88C0D0"> f</span><span style="color:#ECEFF4">(</span><span style="color:#81A1C1">struct</span><span style="color:#D8DEE9FF"> TreeNode</span><span style="color:#81A1C1">*</span><span style="color:#D8DEE9"> node</span><span style="color:#ECEFF4">)</span><span style="color:#ECEFF4"> {</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">    if</span><span style="color:#ECEFF4"> (</span><span style="color:#D8DEE9FF">node </span><span style="color:#81A1C1">==</span><span style="color:#81A1C1"> NULL</span><span style="color:#ECEFF4">)</span><span style="color:#ECEFF4"> {</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">        return</span><span style="color:#B48EAD"> 0</span><span style="color:#81A1C1">;</span></span></span>
<span class="line"><span class="line"><span style="color:#ECEFF4">    }</span></span></span>
<span class="line"><span class="line"><span style="color:#616E88">    // 处理当前节点</span></span></span>
<span class="line"><span class="line"><span style="color:#616E88">    // printf("Visited node (f): %d\n", node->val);</span></span></span>
<span class="line"><span class="line"><span style="color:#D8DEE9FF">    </span></span></span>
<span class="line"><span class="line"><span style="color:#616E88">    // 递归调用 g 处理右子树</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">    int</span><span style="color:#D8DEE9FF"> c1 </span><span style="color:#81A1C1">=</span><span style="color:#88C0D0"> g</span><span style="color:#ECEFF4">(</span><span style="color:#D8DEE9">node</span><span style="color:#81A1C1">-></span><span style="color:#D8DEE9">right</span><span style="color:#ECEFF4">)</span><span style="color:#81A1C1">;</span></span></span>
<span class="line"><span class="line"><span style="color:#D8DEE9FF">    </span></span></span>
<span class="line"><span class="line"><span style="color:#616E88">    // 递归调用 f 处理左子树</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">    int</span><span style="color:#D8DEE9FF"> c2 </span><span style="color:#81A1C1">=</span><span style="color:#88C0D0"> f</span><span style="color:#ECEFF4">(</span><span style="color:#D8DEE9">node</span><span style="color:#81A1C1">-></span><span style="color:#D8DEE9">left</span><span style="color:#ECEFF4">)</span><span style="color:#81A1C1">;</span></span></span>
<span class="line"><span class="line"></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">    return</span><span style="color:#D8DEE9FF"> c1 </span><span style="color:#81A1C1">+</span><span style="color:#D8DEE9FF"> c2 </span><span style="color:#81A1C1">+</span><span style="color:#B48EAD"> 1</span><span style="color:#81A1C1">;</span></span></span>
<span class="line"><span class="line"><span style="color:#ECEFF4">}</span></span></span>
<span class="line"><span class="line"></span></span>
<span class="line"><span class="line"><span style="color:#616E88">// 递归遍历右子树的函数 g</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">int</span><span style="color:#88C0D0"> g</span><span style="color:#ECEFF4">(</span><span style="color:#81A1C1">struct</span><span style="color:#D8DEE9FF"> TreeNode</span><span style="color:#81A1C1">*</span><span style="color:#D8DEE9"> node</span><span style="color:#ECEFF4">)</span><span style="color:#ECEFF4"> {</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">    if</span><span style="color:#ECEFF4"> (</span><span style="color:#D8DEE9FF">node </span><span style="color:#81A1C1">==</span><span style="color:#81A1C1"> NULL</span><span style="color:#ECEFF4">)</span><span style="color:#ECEFF4"> {</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">        return</span><span style="color:#B48EAD"> 0</span><span style="color:#81A1C1">;</span></span></span>
<span class="line"><span class="line"><span style="color:#ECEFF4">    }</span></span></span>
<span class="line"><span class="line"><span style="color:#616E88">    // 处理当前节点</span></span></span>
<span class="line"><span class="line"><span style="color:#616E88">    // printf("Visited node (g): %d\n", node->val);</span></span></span>
<span class="line"><span class="line"><span style="color:#D8DEE9FF">    </span></span></span>
<span class="line"><span class="line"><span style="color:#616E88">    // 递归调用 f 处理左子树</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">    int</span><span style="color:#D8DEE9FF"> c1 </span><span style="color:#81A1C1">=</span><span style="color:#88C0D0"> f</span><span style="color:#ECEFF4">(</span><span style="color:#D8DEE9">node</span><span style="color:#81A1C1">-></span><span style="color:#D8DEE9">left</span><span style="color:#ECEFF4">)</span><span style="color:#81A1C1">;</span></span></span>
<span class="line"><span class="line"><span style="color:#D8DEE9FF">    </span></span></span>
<span class="line"><span class="line"><span style="color:#616E88">    // 递归调用 g 处理右子树</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">    int</span><span style="color:#D8DEE9FF"> c2 </span><span style="color:#81A1C1">=</span><span style="color:#88C0D0"> g</span><span style="color:#ECEFF4">(</span><span style="color:#D8DEE9">node</span><span style="color:#81A1C1">-></span><span style="color:#D8DEE9">right</span><span style="color:#ECEFF4">)</span><span style="color:#81A1C1">;</span></span></span>
<span class="line"><span class="line"></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">    return</span><span style="color:#D8DEE9FF"> c1 </span><span style="color:#81A1C1">+</span><span style="color:#D8DEE9FF"> c2 </span><span style="color:#81A1C1">+</span><span style="color:#B48EAD"> 1</span><span style="color:#81A1C1">;</span></span></span>
<span class="line"><span class="line"><span style="color:#ECEFF4">}</span></span></span>
<span class="line"><span class="line"></span></span>
<span class="line"><span class="line"><span style="color:#616E88">// 辅助函数，用于创建新节点</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">struct</span><span style="color:#D8DEE9FF"> TreeNode</span><span style="color:#81A1C1">*</span><span style="color:#88C0D0"> createNode</span><span style="color:#ECEFF4">(</span><span style="color:#81A1C1">int</span><span style="color:#D8DEE9"> val</span><span style="color:#ECEFF4">)</span><span style="color:#ECEFF4"> {</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">    struct</span><span style="color:#D8DEE9FF"> TreeNode</span><span style="color:#81A1C1">*</span><span style="color:#D8DEE9FF"> newNode </span><span style="color:#81A1C1">=</span><span style="color:#ECEFF4"> (</span><span style="color:#81A1C1">struct</span><span style="color:#D8DEE9FF"> TreeNode</span><span style="color:#81A1C1">*</span><span style="color:#ECEFF4">)</span><span style="color:#88C0D0">malloc</span><span style="color:#ECEFF4">(</span><span style="color:#81A1C1">sizeof</span><span style="color:#ECEFF4">(</span><span style="color:#81A1C1">struct</span><span style="color:#D8DEE9FF"> TreeNode</span><span style="color:#ECEFF4">))</span><span style="color:#81A1C1">;</span></span></span>
<span class="line"><span class="line"><span style="color:#D8DEE9">    newNode</span><span style="color:#81A1C1">-></span><span style="color:#D8DEE9">val</span><span style="color:#81A1C1"> =</span><span style="color:#D8DEE9FF"> val</span><span style="color:#81A1C1">;</span></span></span>
<span class="line"><span class="line"><span style="color:#D8DEE9">    newNode</span><span style="color:#81A1C1">-></span><span style="color:#D8DEE9">left</span><span style="color:#81A1C1"> =</span><span style="color:#81A1C1"> NULL;</span></span></span>
<span class="line"><span class="line"><span style="color:#D8DEE9">    newNode</span><span style="color:#81A1C1">-></span><span style="color:#D8DEE9">right</span><span style="color:#81A1C1"> =</span><span style="color:#81A1C1"> NULL;</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">    return</span><span style="color:#D8DEE9FF"> newNode</span><span style="color:#81A1C1">;</span></span></span>
<span class="line"><span class="line"><span style="color:#ECEFF4">}</span></span></span>
<span class="line"><span class="line"></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">int</span><span style="color:#88C0D0"> main</span><span style="color:#ECEFF4">()</span><span style="color:#ECEFF4"> {</span></span></span>
<span class="line"><span class="line"><span style="color:#616E88">    // 构建一个简单的二叉树</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">    struct</span><span style="color:#D8DEE9FF"> TreeNode</span><span style="color:#81A1C1">*</span><span style="color:#D8DEE9FF"> root </span><span style="color:#81A1C1">=</span><span style="color:#88C0D0"> createNode</span><span style="color:#ECEFF4">(</span><span style="color:#B48EAD">1</span><span style="color:#ECEFF4">)</span><span style="color:#81A1C1">;</span></span></span>
<span class="line"><span class="line"><span style="color:#D8DEE9">    root</span><span style="color:#81A1C1">-></span><span style="color:#D8DEE9">left</span><span style="color:#81A1C1"> =</span><span style="color:#88C0D0"> createNode</span><span style="color:#ECEFF4">(</span><span style="color:#B48EAD">2</span><span style="color:#ECEFF4">)</span><span style="color:#81A1C1">;</span></span></span>
<span class="line"><span class="line"><span style="color:#D8DEE9">    root</span><span style="color:#81A1C1">-></span><span style="color:#D8DEE9">right</span><span style="color:#81A1C1"> =</span><span style="color:#88C0D0"> createNode</span><span style="color:#ECEFF4">(</span><span style="color:#B48EAD">3</span><span style="color:#ECEFF4">)</span><span style="color:#81A1C1">;</span></span></span>
<span class="line"><span class="line"><span style="color:#D8DEE9">    root</span><span style="color:#81A1C1">-></span><span style="color:#D8DEE9">left</span><span style="color:#81A1C1">-></span><span style="color:#D8DEE9">left</span><span style="color:#81A1C1"> =</span><span style="color:#88C0D0"> createNode</span><span style="color:#ECEFF4">(</span><span style="color:#B48EAD">4</span><span style="color:#ECEFF4">)</span><span style="color:#81A1C1">;</span></span></span>
<span class="line"><span class="line"><span style="color:#D8DEE9">    root</span><span style="color:#81A1C1">-></span><span style="color:#D8DEE9">left</span><span style="color:#81A1C1">-></span><span style="color:#D8DEE9">right</span><span style="color:#81A1C1"> =</span><span style="color:#88C0D0"> createNode</span><span style="color:#ECEFF4">(</span><span style="color:#B48EAD">5</span><span style="color:#ECEFF4">)</span><span style="color:#81A1C1">;</span></span></span>
<span class="line"><span class="line"><span style="color:#D8DEE9">    root</span><span style="color:#81A1C1">-></span><span style="color:#D8DEE9">right</span><span style="color:#81A1C1">-></span><span style="color:#D8DEE9">left</span><span style="color:#81A1C1"> =</span><span style="color:#88C0D0"> createNode</span><span style="color:#ECEFF4">(</span><span style="color:#B48EAD">6</span><span style="color:#ECEFF4">)</span><span style="color:#81A1C1">;</span></span></span>
<span class="line"><span class="line"><span style="color:#D8DEE9">    root</span><span style="color:#81A1C1">-></span><span style="color:#D8DEE9">right</span><span style="color:#81A1C1">-></span><span style="color:#D8DEE9">right</span><span style="color:#81A1C1"> =</span><span style="color:#88C0D0"> createNode</span><span style="color:#ECEFF4">(</span><span style="color:#B48EAD">7</span><span style="color:#ECEFF4">)</span><span style="color:#81A1C1">;</span></span></span>
<span class="line"><span class="line"></span></span>
<span class="line"><span class="line"><span style="color:#616E88">    // 从根节点开始遍历，调用 f 函数</span></span></span>
<span class="line"><span class="line"><span style="color:#88C0D0">    printf</span><span style="color:#ECEFF4">(</span><span style="color:#ECEFF4">"</span><span style="color:#A3BE8C">Total count of nodes in the binrary tree: %d</span><span style="color:#ECEFF4">"</span><span style="color:#ECEFF4">,</span><span style="color:#88C0D0"> f</span><span style="color:#ECEFF4">(</span><span style="color:#D8DEE9FF">root</span><span style="color:#ECEFF4">))</span><span style="color:#81A1C1">;</span></span></span>
<span class="line"><span class="line"></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">    return</span><span style="color:#B48EAD"> 0</span><span style="color:#81A1C1">;</span></span></span>
<span class="line"><span class="line"><span style="color:#ECEFF4">}</span></span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>先回看一下汉诺塔问题是如何从递归改写到非递归程序的，这里我们对比两段代码：</p>
<div class="language-c line-numbers-mode line-numbers-mode" data-highlighter="prismjs" data-ext="c" data-title="c"><pre v-pre  class="shiki nord vp-code" style="background-color:#2e3440ff;color:#d8dee9ff language-c"><code><span class="line"><span class="line"><span style="color:#616E88">// ...</span></span></span>
<span class="line"><span class="line"><span style="color:#616E88">// Function call: push a new frame (PC=0) onto the stack</span></span></span>
<span class="line"><span class="line"><span style="color:#5E81AC;font-weight:bold">#</span><span style="color:#81A1C1">define</span><span style="color:#88C0D0"> call</span><span style="color:#ECEFF4">(...)</span><span style="color:#ECEFF4"> ({</span><span style="color:#81A1C1"> *</span><span style="color:#ECEFF4">(</span><span style="color:#81A1C1">++</span><span style="color:#5E81AC">top</span><span style="color:#ECEFF4">)</span><span style="color:#81A1C1"> =</span><span style="color:#ECEFF4"> (</span><span style="color:#5E81AC">Frame</span><span style="color:#ECEFF4">){</span><span style="color:#5E81AC">.pc </span><span style="color:#81A1C1">=</span><span style="color:#B48EAD"> 0</span><span style="color:#ECEFF4">,</span><span style="color:#5E81AC"> __VA_ARGS__</span><span style="color:#ECEFF4">}</span><span style="color:#81A1C1">;</span><span style="color:#ECEFF4"> })</span></span></span>
<span class="line"><span class="line"></span></span>
<span class="line"><span class="line"><span style="color:#616E88">// Function return: pop the top-most frame</span></span></span>
<span class="line"><span class="line"><span style="color:#5E81AC;font-weight:bold">#</span><span style="color:#81A1C1">define</span><span style="color:#88C0D0"> ret</span><span style="color:#ECEFF4">(</span><span style="color:#D8DEE9">val</span><span style="color:#ECEFF4">)</span><span style="color:#ECEFF4"> ({</span><span style="color:#5E81AC"> top</span><span style="color:#81A1C1">--;</span><span style="color:#5E81AC"> retval </span><span style="color:#81A1C1">=</span><span style="color:#ECEFF4"> (</span><span style="color:#5E81AC">val</span><span style="color:#ECEFF4">)</span><span style="color:#81A1C1">;</span><span style="color:#ECEFF4"> })</span></span></span>
<span class="line"><span class="line"></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">int</span><span style="color:#D8DEE9FF"> next_pc </span><span style="color:#81A1C1">=</span><span style="color:#D8DEE9FF"> f</span><span style="color:#81A1C1">-></span><span style="color:#D8DEE9FF">pc </span><span style="color:#81A1C1">+</span><span style="color:#B48EAD"> 1</span><span style="color:#81A1C1">;</span></span></span>
<span class="line"><span class="line"></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">switch</span><span style="color:#ECEFF4"> (</span><span style="color:#D8DEE9">f</span><span style="color:#81A1C1">-></span><span style="color:#D8DEE9">pc</span><span style="color:#ECEFF4">)</span></span></span>
<span class="line"><span class="line"><span style="color:#ECEFF4">{</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">    case</span><span style="color:#B48EAD"> 0</span><span style="color:#ECEFF4">:</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">        if</span><span style="color:#ECEFF4"> (</span><span style="color:#D8DEE9FF">n </span><span style="color:#81A1C1">==</span><span style="color:#B48EAD"> 1</span><span style="color:#ECEFF4">)</span></span></span>
<span class="line"><span class="line"><span style="color:#ECEFF4">        {</span></span></span>
<span class="line"><span class="line"><span style="color:#88C0D0">            printf</span><span style="color:#ECEFF4">(</span><span style="color:#ECEFF4">"</span><span style="color:#A3BE8C">%c -> %c</span><span style="color:#EBCB8B">\n</span><span style="color:#ECEFF4">"</span><span style="color:#ECEFF4">,</span><span style="color:#D8DEE9FF"> from</span><span style="color:#ECEFF4">,</span><span style="color:#D8DEE9FF"> to</span><span style="color:#ECEFF4">)</span><span style="color:#81A1C1">;</span></span></span>
<span class="line"><span class="line"><span style="color:#88C0D0">            ret</span><span style="color:#ECEFF4">(</span><span style="color:#B48EAD">1</span><span style="color:#ECEFF4">)</span><span style="color:#81A1C1">;</span></span></span>
<span class="line"><span class="line"><span style="color:#ECEFF4">        }</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">        break;</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">    case</span><span style="color:#B48EAD"> 1</span><span style="color:#ECEFF4">:</span></span></span>
<span class="line"><span class="line"><span style="color:#88C0D0">        call</span><span style="color:#ECEFF4">(</span><span style="color:#D8DEE9FF">n </span><span style="color:#81A1C1">-</span><span style="color:#B48EAD"> 1</span><span style="color:#ECEFF4">,</span><span style="color:#D8DEE9FF"> from</span><span style="color:#ECEFF4">,</span><span style="color:#D8DEE9FF"> via</span><span style="color:#ECEFF4">,</span><span style="color:#D8DEE9FF"> to</span><span style="color:#ECEFF4">)</span><span style="color:#81A1C1">;</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">        break;</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">    case</span><span style="color:#B48EAD"> 2</span><span style="color:#ECEFF4">:</span></span></span>
<span class="line"><span class="line"><span style="color:#D8DEE9">        f</span><span style="color:#81A1C1">-></span><span style="color:#D8DEE9">c1</span><span style="color:#81A1C1"> =</span><span style="color:#D8DEE9FF"> retval</span><span style="color:#81A1C1">;</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">        break;</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">    case</span><span style="color:#B48EAD"> 3</span><span style="color:#ECEFF4">:</span></span></span>
<span class="line"><span class="line"><span style="color:#88C0D0">        call</span><span style="color:#ECEFF4">(</span><span style="color:#B48EAD">1</span><span style="color:#ECEFF4">,</span><span style="color:#D8DEE9FF"> from</span><span style="color:#ECEFF4">,</span><span style="color:#D8DEE9FF"> to</span><span style="color:#ECEFF4">,</span><span style="color:#D8DEE9FF"> via</span><span style="color:#ECEFF4">)</span><span style="color:#81A1C1">;</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">        break;</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">    case</span><span style="color:#B48EAD"> 4</span><span style="color:#ECEFF4">:</span></span></span>
<span class="line"><span class="line"><span style="color:#88C0D0">        call</span><span style="color:#ECEFF4">(</span><span style="color:#D8DEE9FF">n </span><span style="color:#81A1C1">-</span><span style="color:#B48EAD"> 1</span><span style="color:#ECEFF4">,</span><span style="color:#D8DEE9FF"> via</span><span style="color:#ECEFF4">,</span><span style="color:#D8DEE9FF"> to</span><span style="color:#ECEFF4">,</span><span style="color:#D8DEE9FF"> from</span><span style="color:#ECEFF4">)</span><span style="color:#81A1C1">;</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">        break;</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">    case</span><span style="color:#B48EAD"> 5</span><span style="color:#ECEFF4">:</span></span></span>
<span class="line"><span class="line"><span style="color:#D8DEE9">        f</span><span style="color:#81A1C1">-></span><span style="color:#D8DEE9">c2</span><span style="color:#81A1C1"> =</span><span style="color:#D8DEE9FF"> retval</span><span style="color:#81A1C1">;</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">        break;</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">    case</span><span style="color:#B48EAD"> 6</span><span style="color:#ECEFF4">:</span></span></span>
<span class="line"><span class="line"><span style="color:#88C0D0">        ret</span><span style="color:#ECEFF4">(</span><span style="color:#D8DEE9FF">f</span><span style="color:#81A1C1">-></span><span style="color:#D8DEE9FF">c1 </span><span style="color:#81A1C1">+</span><span style="color:#D8DEE9FF"> f</span><span style="color:#81A1C1">-></span><span style="color:#D8DEE9FF">c2 </span><span style="color:#81A1C1">+</span><span style="color:#B48EAD"> 1</span><span style="color:#ECEFF4">)</span><span style="color:#81A1C1">;</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">        break;</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">    default</span><span style="color:#ECEFF4">:</span></span></span>
<span class="line"><span class="line"><span style="color:#88C0D0">        assert</span><span style="color:#ECEFF4">(</span><span style="color:#B48EAD">0</span><span style="color:#ECEFF4">)</span><span style="color:#81A1C1">;</span></span></span>
<span class="line"><span class="line"><span style="color:#ECEFF4">}</span></span></span>
<span class="line"><span class="line"></span></span>
<span class="line"><span class="line"><span style="color:#D8DEE9FF">f</span><span style="color:#81A1C1">-></span><span style="color:#D8DEE9FF">pc </span><span style="color:#81A1C1">=</span><span style="color:#D8DEE9FF"> next_pc</span><span style="color:#81A1C1">;</span></span></span>
<span class="line"><span class="line"><span style="color:#616E88">// ...</span></span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-c line-numbers-mode line-numbers-mode" data-highlighter="prismjs" data-ext="c" data-title="c"><pre v-pre  class="shiki nord vp-code" style="background-color:#2e3440ff;color:#d8dee9ff language-c"><code><span class="line"><span class="line"><span style="color:#81A1C1">int</span><span style="color:#88C0D0"> hanoi</span><span style="color:#ECEFF4">(</span><span style="color:#81A1C1">int</span><span style="color:#D8DEE9"> n</span><span style="color:#ECEFF4">,</span><span style="color:#81A1C1"> char</span><span style="color:#D8DEE9"> from</span><span style="color:#ECEFF4">,</span><span style="color:#81A1C1"> char</span><span style="color:#D8DEE9"> to</span><span style="color:#ECEFF4">,</span><span style="color:#81A1C1"> char</span><span style="color:#D8DEE9"> via</span><span style="color:#ECEFF4">)</span></span></span>
<span class="line"><span class="line"><span style="color:#ECEFF4">{</span></span></span>
<span class="line"><span class="line"><span style="color:#616E88">    // 0</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">    if</span><span style="color:#ECEFF4"> (</span><span style="color:#D8DEE9FF">n </span><span style="color:#81A1C1">==</span><span style="color:#B48EAD"> 1</span><span style="color:#ECEFF4">)</span></span></span>
<span class="line"><span class="line"><span style="color:#ECEFF4">    {</span></span></span>
<span class="line"><span class="line"><span style="color:#88C0D0">        printf</span><span style="color:#ECEFF4">(</span><span style="color:#ECEFF4">"</span><span style="color:#A3BE8C">%c -> %c</span><span style="color:#EBCB8B">\n</span><span style="color:#ECEFF4">"</span><span style="color:#ECEFF4">,</span><span style="color:#D8DEE9FF"> from</span><span style="color:#ECEFF4">,</span><span style="color:#D8DEE9FF"> to</span><span style="color:#ECEFF4">)</span><span style="color:#81A1C1">;</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">        return</span><span style="color:#B48EAD"> 1</span><span style="color:#81A1C1">;</span></span></span>
<span class="line"><span class="line"><span style="color:#ECEFF4">    }</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">    else</span></span></span>
<span class="line"><span class="line"><span style="color:#ECEFF4">    {</span></span></span>
<span class="line"><span class="line"><span style="color:#616E88">        // 1, 2</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">        int</span><span style="color:#D8DEE9FF"> c1 </span><span style="color:#81A1C1">=</span><span style="color:#88C0D0"> hanoi</span><span style="color:#ECEFF4">(</span><span style="color:#D8DEE9FF">n </span><span style="color:#81A1C1">-</span><span style="color:#B48EAD"> 1</span><span style="color:#ECEFF4">,</span><span style="color:#D8DEE9FF"> from</span><span style="color:#ECEFF4">,</span><span style="color:#D8DEE9FF"> via</span><span style="color:#ECEFF4">,</span><span style="color:#D8DEE9FF"> to</span><span style="color:#ECEFF4">)</span><span style="color:#81A1C1">;</span></span></span>
<span class="line"><span class="line"><span style="color:#616E88">        // 3</span></span></span>
<span class="line"><span class="line"><span style="color:#88C0D0">        hanoi</span><span style="color:#ECEFF4">(</span><span style="color:#B48EAD">1</span><span style="color:#ECEFF4">,</span><span style="color:#D8DEE9FF"> from</span><span style="color:#ECEFF4">,</span><span style="color:#D8DEE9FF"> to</span><span style="color:#ECEFF4">,</span><span style="color:#D8DEE9FF"> via</span><span style="color:#ECEFF4">)</span><span style="color:#81A1C1">;</span></span></span>
<span class="line"><span class="line"><span style="color:#616E88">        // 4, 5</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">        int</span><span style="color:#D8DEE9FF"> c2 </span><span style="color:#81A1C1">=</span><span style="color:#88C0D0"> hanoi</span><span style="color:#ECEFF4">(</span><span style="color:#D8DEE9FF">n </span><span style="color:#81A1C1">-</span><span style="color:#B48EAD"> 1</span><span style="color:#ECEFF4">,</span><span style="color:#D8DEE9FF"> via</span><span style="color:#ECEFF4">,</span><span style="color:#D8DEE9FF"> to</span><span style="color:#ECEFF4">,</span><span style="color:#D8DEE9FF"> from</span><span style="color:#ECEFF4">)</span><span style="color:#81A1C1">;</span></span></span>
<span class="line"><span class="line"><span style="color:#616E88">        // 6</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">        return</span><span style="color:#D8DEE9FF"> c1 </span><span style="color:#81A1C1">+</span><span style="color:#D8DEE9FF"> c2 </span><span style="color:#81A1C1">+</span><span style="color:#B48EAD"> 1</span><span style="color:#81A1C1">;</span></span></span>
<span class="line"><span class="line"><span style="color:#ECEFF4">    }</span></span></span>
<span class="line"><span class="line"><span style="color:#ECEFF4">}</span></span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>左右两边对比起来看，是不是发现了什么？</p>
<p>没错，非递归版只是把递归版的每条指令拆出来，然后使用 PC 来指定当前执行哪一条指令而已。实质上也就是在<strong>模拟</strong>递归时堆栈上进行的操作。</p>
<p>下面是根据上述分析得到的非递归代码：</p>
<div class="language-c line-numbers-mode line-numbers-mode" data-highlighter="prismjs" data-ext="c" data-title="c"><pre v-pre  class="shiki nord vp-code" style="background-color:#2e3440ff;color:#d8dee9ff language-c"><code><span class="line"><span class="line"><span style="color:#5E81AC;font-weight:bold">#</span><span style="color:#81A1C1">include</span><span style="color:#ECEFF4"> &#x3C;</span><span style="color:#8FBCBB">stdio.h</span><span style="color:#ECEFF4">></span></span></span>
<span class="line"><span class="line"><span style="color:#5E81AC;font-weight:bold">#</span><span style="color:#81A1C1">include</span><span style="color:#ECEFF4"> &#x3C;</span><span style="color:#8FBCBB">stdlib.h</span><span style="color:#ECEFF4">></span></span></span>
<span class="line"><span class="line"><span style="color:#5E81AC;font-weight:bold">#</span><span style="color:#81A1C1">include</span><span style="color:#ECEFF4"> &#x3C;</span><span style="color:#8FBCBB">assert.h</span><span style="color:#ECEFF4">></span></span></span>
<span class="line"><span class="line"></span></span>
<span class="line"><span class="line"><span style="color:#616E88">// Binary tree node</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">struct</span><span style="color:#D8DEE9FF"> TreeNode</span></span></span>
<span class="line"><span class="line"><span style="color:#ECEFF4">{</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">    int</span><span style="color:#D8DEE9FF"> val</span><span style="color:#81A1C1">;</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">    struct</span><span style="color:#D8DEE9FF"> TreeNode </span><span style="color:#81A1C1">*</span><span style="color:#D8DEE9FF">left</span><span style="color:#81A1C1">;</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">    struct</span><span style="color:#D8DEE9FF"> TreeNode </span><span style="color:#81A1C1">*</span><span style="color:#D8DEE9FF">right</span><span style="color:#81A1C1">;</span></span></span>
<span class="line"><span class="line"><span style="color:#ECEFF4">}</span><span style="color:#81A1C1">;</span></span></span>
<span class="line"><span class="line"></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">typedef</span><span style="color:#81A1C1"> struct</span><span style="color:#D8DEE9FF"> TreeNode TreeNode</span><span style="color:#81A1C1">;</span></span></span>
<span class="line"><span class="line"></span></span>
<span class="line"><span class="line"><span style="color:#D8DEE9FF">TreeNode </span><span style="color:#81A1C1">*</span><span style="color:#88C0D0">createNode</span><span style="color:#ECEFF4">(</span><span style="color:#81A1C1">int</span><span style="color:#D8DEE9"> val</span><span style="color:#ECEFF4">)</span></span></span>
<span class="line"><span class="line"><span style="color:#ECEFF4">{</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">    struct</span><span style="color:#D8DEE9FF"> TreeNode </span><span style="color:#81A1C1">*</span><span style="color:#D8DEE9FF">newNode </span><span style="color:#81A1C1">=</span><span style="color:#ECEFF4"> (</span><span style="color:#81A1C1">struct</span><span style="color:#D8DEE9FF"> TreeNode </span><span style="color:#81A1C1">*</span><span style="color:#ECEFF4">)</span><span style="color:#88C0D0">malloc</span><span style="color:#ECEFF4">(</span><span style="color:#81A1C1">sizeof</span><span style="color:#ECEFF4">(</span><span style="color:#81A1C1">struct</span><span style="color:#D8DEE9FF"> TreeNode</span><span style="color:#ECEFF4">))</span><span style="color:#81A1C1">;</span></span></span>
<span class="line"><span class="line"><span style="color:#D8DEE9">    newNode</span><span style="color:#81A1C1">-></span><span style="color:#D8DEE9">val</span><span style="color:#81A1C1"> =</span><span style="color:#D8DEE9FF"> val</span><span style="color:#81A1C1">;</span></span></span>
<span class="line"><span class="line"><span style="color:#D8DEE9">    newNode</span><span style="color:#81A1C1">-></span><span style="color:#D8DEE9">left</span><span style="color:#81A1C1"> =</span><span style="color:#81A1C1"> NULL;</span></span></span>
<span class="line"><span class="line"><span style="color:#D8DEE9">    newNode</span><span style="color:#81A1C1">-></span><span style="color:#D8DEE9">right</span><span style="color:#81A1C1"> =</span><span style="color:#81A1C1"> NULL;</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">    return</span><span style="color:#D8DEE9FF"> newNode</span><span style="color:#81A1C1">;</span></span></span>
<span class="line"><span class="line"><span style="color:#ECEFF4">}</span></span></span>
<span class="line"><span class="line"></span></span>
<span class="line"><span class="line"><span style="color:#616E88">// States the running state</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">struct</span><span style="color:#D8DEE9FF"> StackFrame</span></span></span>
<span class="line"><span class="line"><span style="color:#ECEFF4">{</span></span></span>
<span class="line"><span class="line"><span style="color:#616E88">    // The Program counter</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">    int</span><span style="color:#D8DEE9FF"> pc</span><span style="color:#81A1C1">;</span></span></span>
<span class="line"><span class="line"></span></span>
<span class="line"><span class="line"><span style="color:#616E88">    // The Arguments</span></span></span>
<span class="line"><span class="line"><span style="color:#D8DEE9FF">    TreeNode </span><span style="color:#81A1C1">*</span><span style="color:#D8DEE9FF">treeNode</span><span style="color:#81A1C1">;</span></span></span>
<span class="line"><span class="line"></span></span>
<span class="line"><span class="line"><span style="color:#616E88">    // Local Variables</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">    int</span><span style="color:#D8DEE9FF"> cl</span><span style="color:#ECEFF4">,</span><span style="color:#D8DEE9FF"> cr</span><span style="color:#81A1C1">;</span></span></span>
<span class="line"><span class="line"><span style="color:#ECEFF4">}</span><span style="color:#81A1C1">;</span></span></span>
<span class="line"><span class="line"></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">typedef</span><span style="color:#81A1C1"> struct</span><span style="color:#D8DEE9FF"> StackFrame Frame</span><span style="color:#81A1C1">;</span></span></span>
<span class="line"><span class="line"></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">int</span><span style="color:#88C0D0"> loopCall</span><span style="color:#ECEFF4">(</span><span style="color:#D8DEE9FF">TreeNode </span><span style="color:#81A1C1">*</span><span style="color:#D8DEE9">root</span><span style="color:#ECEFF4">)</span></span></span>
<span class="line"><span class="line"><span style="color:#ECEFF4">{</span></span></span>
<span class="line"><span class="line"></span></span>
<span class="line"><span class="line"><span style="color:#D8DEE9FF">    Frame stk</span><span style="color:#ECEFF4">[</span><span style="color:#B48EAD">64</span><span style="color:#ECEFF4">]</span><span style="color:#81A1C1">;</span></span></span>
<span class="line"><span class="line"><span style="color:#D8DEE9FF">    Frame </span><span style="color:#81A1C1">*</span><span style="color:#D8DEE9FF">top </span><span style="color:#81A1C1">=</span><span style="color:#D8DEE9FF"> stk </span><span style="color:#81A1C1">-</span><span style="color:#B48EAD"> 1</span><span style="color:#81A1C1">;</span></span></span>
<span class="line"><span class="line"></span></span>
<span class="line"><span class="line"><span style="color:#616E88">    // Function call: push a new frame (PC=0) onto the stack</span></span></span>
<span class="line"><span class="line"><span style="color:#5E81AC;font-weight:bold">#</span><span style="color:#81A1C1">define</span><span style="color:#88C0D0"> call</span><span style="color:#ECEFF4">(</span><span style="color:#D8DEE9">root</span><span style="color:#ECEFF4">,</span><span style="color:#ECEFF4"> ...)</span><span style="color:#ECEFF4"> ({</span><span style="color:#81A1C1"> *</span><span style="color:#ECEFF4">(</span><span style="color:#81A1C1">++</span><span style="color:#5E81AC">top</span><span style="color:#ECEFF4">)</span><span style="color:#81A1C1"> =</span><span style="color:#ECEFF4"> (</span><span style="color:#5E81AC">Frame</span><span style="color:#ECEFF4">){</span><span style="color:#5E81AC">.pc </span><span style="color:#81A1C1">=</span><span style="color:#B48EAD"> 0</span><span style="color:#ECEFF4">,</span><span style="color:#5E81AC"> .treeNode </span><span style="color:#81A1C1">=</span><span style="color:#5E81AC"> root</span><span style="color:#ECEFF4">,</span><span style="color:#5E81AC"> __VA_ARGS__</span><span style="color:#ECEFF4">}</span><span style="color:#81A1C1">;</span><span style="color:#ECEFF4"> })</span></span></span>
<span class="line"><span class="line"></span></span>
<span class="line"><span class="line"><span style="color:#616E88">// Function return: pop the top-most frame</span></span></span>
<span class="line"><span class="line"><span style="color:#5E81AC;font-weight:bold">#</span><span style="color:#81A1C1">define</span><span style="color:#88C0D0"> ret</span><span style="color:#ECEFF4">(</span><span style="color:#D8DEE9">val</span><span style="color:#ECEFF4">)</span><span style="color:#ECEFF4"> ({</span><span style="color:#5E81AC"> top</span><span style="color:#81A1C1">--;</span><span style="color:#5E81AC"> retval </span><span style="color:#81A1C1">=</span><span style="color:#ECEFF4"> (</span><span style="color:#5E81AC">val</span><span style="color:#ECEFF4">)</span><span style="color:#81A1C1">;</span><span style="color:#ECEFF4"> })</span></span></span>
<span class="line"><span class="line"></span></span>
<span class="line"><span class="line"><span style="color:#616E88">    // The return val</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">    int</span><span style="color:#D8DEE9FF"> retval </span><span style="color:#81A1C1">=</span><span style="color:#B48EAD"> 0</span><span style="color:#81A1C1">;</span></span></span>
<span class="line"><span class="line"><span style="color:#616E88">    // The initial call</span></span></span>
<span class="line"><span class="line"><span style="color:#88C0D0">    call</span><span style="color:#ECEFF4">(</span><span style="color:#D8DEE9FF">root</span><span style="color:#ECEFF4">)</span><span style="color:#81A1C1">;</span></span></span>
<span class="line"><span class="line"></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">    while</span><span style="color:#ECEFF4"> (</span><span style="color:#B48EAD">1</span><span style="color:#ECEFF4">)</span></span></span>
<span class="line"><span class="line"><span style="color:#ECEFF4">    {</span></span></span>
<span class="line"><span class="line"><span style="color:#D8DEE9FF">        Frame </span><span style="color:#81A1C1">*</span><span style="color:#D8DEE9FF">currentFrame </span><span style="color:#81A1C1">=</span><span style="color:#D8DEE9FF"> top</span><span style="color:#81A1C1">;</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">        if</span><span style="color:#ECEFF4"> (</span><span style="color:#D8DEE9FF">top </span><span style="color:#81A1C1">&#x3C;</span><span style="color:#D8DEE9FF"> stk</span><span style="color:#ECEFF4">)</span></span></span>
<span class="line"><span class="line"><span style="color:#ECEFF4">        {</span></span></span>
<span class="line"><span class="line"><span style="color:#616E88">            // Nothing to do.</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">            break;</span></span></span>
<span class="line"><span class="line"><span style="color:#ECEFF4">        }</span></span></span>
<span class="line"><span class="line"></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">        int</span><span style="color:#D8DEE9FF"> next_pc </span><span style="color:#81A1C1">=</span><span style="color:#D8DEE9"> currentFrame</span><span style="color:#81A1C1">-></span><span style="color:#D8DEE9">pc</span><span style="color:#81A1C1"> +</span><span style="color:#B48EAD"> 1</span><span style="color:#81A1C1">;</span></span></span>
<span class="line"><span class="line"></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">        switch</span><span style="color:#ECEFF4"> (</span><span style="color:#D8DEE9">currentFrame</span><span style="color:#81A1C1">-></span><span style="color:#D8DEE9">pc</span><span style="color:#ECEFF4">)</span></span></span>
<span class="line"><span class="line"><span style="color:#ECEFF4">        {</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">        case</span><span style="color:#B48EAD"> 0</span><span style="color:#ECEFF4">:</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">            if</span><span style="color:#ECEFF4"> (</span><span style="color:#D8DEE9FF">currentFrame</span><span style="color:#81A1C1">-></span><span style="color:#D8DEE9FF">treeNode </span><span style="color:#81A1C1">==</span><span style="color:#81A1C1"> NULL</span><span style="color:#ECEFF4">)</span></span></span>
<span class="line"><span class="line"><span style="color:#ECEFF4">            {</span></span></span>
<span class="line"><span class="line"><span style="color:#88C0D0">                ret</span><span style="color:#ECEFF4">(</span><span style="color:#B48EAD">0</span><span style="color:#ECEFF4">)</span><span style="color:#81A1C1">;</span><span style="color:#616E88"> // Not return(0)!!</span></span></span>
<span class="line"><span class="line"><span style="color:#ECEFF4">            }</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">            break;</span></span></span>
<span class="line"><span class="line"></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">        case</span><span style="color:#B48EAD"> 1</span><span style="color:#ECEFF4">:</span></span></span>
<span class="line"><span class="line"><span style="color:#88C0D0">            call</span><span style="color:#ECEFF4">(</span><span style="color:#D8DEE9FF">currentFrame</span><span style="color:#81A1C1">-></span><span style="color:#D8DEE9FF">treeNode</span><span style="color:#81A1C1">-></span><span style="color:#D8DEE9">left</span><span style="color:#ECEFF4">)</span><span style="color:#81A1C1">;</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">            break;</span></span></span>
<span class="line"><span class="line"></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">        case</span><span style="color:#B48EAD"> 2</span><span style="color:#ECEFF4">:</span></span></span>
<span class="line"><span class="line"><span style="color:#D8DEE9">            currentFrame</span><span style="color:#81A1C1">-></span><span style="color:#D8DEE9">cl</span><span style="color:#81A1C1"> =</span><span style="color:#D8DEE9FF"> retval</span><span style="color:#81A1C1">;</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">            break;</span></span></span>
<span class="line"><span class="line"></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">        case</span><span style="color:#B48EAD"> 3</span><span style="color:#ECEFF4">:</span></span></span>
<span class="line"><span class="line"><span style="color:#88C0D0">            call</span><span style="color:#ECEFF4">(</span><span style="color:#D8DEE9FF">currentFrame</span><span style="color:#81A1C1">-></span><span style="color:#D8DEE9FF">treeNode</span><span style="color:#81A1C1">-></span><span style="color:#D8DEE9">right</span><span style="color:#ECEFF4">)</span><span style="color:#81A1C1">;</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">            break;</span></span></span>
<span class="line"><span class="line"></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">        case</span><span style="color:#B48EAD"> 4</span><span style="color:#ECEFF4">:</span></span></span>
<span class="line"><span class="line"><span style="color:#D8DEE9">            currentFrame</span><span style="color:#81A1C1">-></span><span style="color:#D8DEE9">cr</span><span style="color:#81A1C1"> =</span><span style="color:#D8DEE9FF"> retval</span><span style="color:#81A1C1">;</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">            break;</span></span></span>
<span class="line"><span class="line"></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">        case</span><span style="color:#B48EAD"> 5</span><span style="color:#ECEFF4">:</span></span></span>
<span class="line"><span class="line"><span style="color:#88C0D0">            ret</span><span style="color:#ECEFF4">(</span><span style="color:#D8DEE9FF">currentFrame</span><span style="color:#81A1C1">-></span><span style="color:#D8DEE9FF">cl </span><span style="color:#81A1C1">+</span><span style="color:#D8DEE9FF"> currentFrame</span><span style="color:#81A1C1">-></span><span style="color:#D8DEE9FF">cr </span><span style="color:#81A1C1">+</span><span style="color:#B48EAD"> 1</span><span style="color:#ECEFF4">)</span><span style="color:#81A1C1">;</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">            break;</span></span></span>
<span class="line"><span class="line"></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">        default</span><span style="color:#ECEFF4">:</span></span></span>
<span class="line"><span class="line"><span style="color:#88C0D0">            assert</span><span style="color:#ECEFF4">(</span><span style="color:#B48EAD">0</span><span style="color:#ECEFF4">)</span><span style="color:#81A1C1">;</span></span></span>
<span class="line"><span class="line"><span style="color:#ECEFF4">        }</span></span></span>
<span class="line"><span class="line"></span></span>
<span class="line"><span class="line"><span style="color:#D8DEE9">        currentFrame</span><span style="color:#81A1C1">-></span><span style="color:#D8DEE9">pc</span><span style="color:#81A1C1"> =</span><span style="color:#D8DEE9FF"> next_pc</span><span style="color:#81A1C1">;</span></span></span>
<span class="line"><span class="line"><span style="color:#ECEFF4">    }</span></span></span>
<span class="line"><span class="line"></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1">    return</span><span style="color:#D8DEE9FF"> retval</span><span style="color:#81A1C1">;</span></span></span>
<span class="line"><span class="line"><span style="color:#ECEFF4">}</span></span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote>
<p>更新: 2024-10-23 08:50:26<br>
原文: <a href="https://www.yuque.com/yuqueyonghukaqxkk/self_learning_route/zbhox7nphbbk7kzo" target="_blank" rel="noopener noreferrer">https://www.yuque.com/yuqueyonghukaqxkk/self_learning_route/zbhox7nphbbk7kzo</a></p>
</blockquote>
</div></template>


